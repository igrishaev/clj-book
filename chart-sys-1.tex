
\begin{tikzpicture}[auto, node distance=1.5cm]

\node (cfg) [entity] {Config};
\node (srv) [entity, below left = of cfg, yshift=0.5cm, xshift=2cm] {Server};
\node (dtb) [entity, below right = of cfg, yshift=0.5cm, xshift=-2cm] {Database};
\ifx\DEVICETYPE\MOBILE

\node (wrk) [entity, below right = of srv, yshift=0.5cm, xshift=-2cm] {Worker};

\else

\node (wrk) [entity, below right = of dtb, yshift=0.5cm, xshift=-2cm] {Worker};

\fi

\draw [arrow] (srv) |- (cfg);
\draw [arrow] (wrk) -| (dtb);

\ifx\DEVICETYPE\MOBILE

\draw [arrow] (wrk) -- (cfg);
\draw [arrow] (dtb) |- (cfg);

\else

\draw [arrow] (wrk) |- (cfg);
\draw [arrow] (dtb) -| (cfg);

\fi
\end{tikzpicture}
